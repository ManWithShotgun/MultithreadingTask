Общественный транспорт

По маршруту с остановками ходят автобусы (количество варьируется, вместимость тоже может быть разная)
с одинаковой скоростью, и переменными интервалами между автобусами.
Каждый автобус - отдельный поток.

На остановки приходят пассажиры и в конкурентном порядке пытаются попасть в автобус, одновременно в автобус может зайти только 1 человек (доп. задание N=1-4 человек), едут до своей остановки , выходят.
Каждый поссажир - отдельный поток.
Пассажир после приходя на остановку переходит в состояние wait, и выходит их него по приезду автобуса на остановку.
Если пассажир не смог попасть в автобус, он опять переходит в состояние Wait до следующего.
В начале работы приложения генерируются все потоки пассажиры расставленные случайным образом по всем остановкам.

Когда поток-автобус на остановке и там есть пассажиры он должен переходить в состояние wait и выходить из этого состояния при условии что пора двигаться дальше.
Условия дальнейшего движения - пассажиров на остановке больше нет, свободных мест в автобусе больше нет.
Пассажир садится только в автобус, который идет в нужную ему сторону.
(вариант реализации - разделение остановок по направлениям и т.о. когда автобус едет в одну сторону, он останавливается на одних остановках, когда обратно - то на других)

В начале работы приложения автобус выходит из конечной остановки №1 и движется с постоянной скоростью по по маршруту. Через заданный интервал с конечной №1 выходит следующий и т.д.
Когда автобус до конечной №2 - он едет обратно. (У автобуса как характеристика внутреннего состояния может быть его координата на временной оси в минутах, помимо его положения в пространстве)
На конечных остановках пассажиры могут не выходить, если они еще не доехали до нужной остановки. (т.о. задау можно свести к движению по кругу)

Потоки автобусы и потоки пассажиры ничего не должны "знать" друг о друге. (т.е. у автобуса нет переменных, указывающих на объекты-потоки, известно только количество пассажиров внутри)

В главном потоке выполняется т.н. Контроллер, который создает и запускает потоки-пассажиры и потоки-автобусы, но при этом не хранит у себя никаких ссылок на эти объекты.
Так же можно выделить понятие "улица с остановками", по которой автобусы перевозят пассажиров.

Приложение должно работать в 2-х режимах: консоль, графический интерфейс(доп. задание).
При работе в графическом режиме должна быть возможность корректно завершить работу приложения в любое время. Должна быть возможность варьировать скорость движения.
Начальные параметры:
- Режим работы приолжения
- Общее число пассажиров
- Количество остановок в одну сторону (т.о. все остановки парные)
- Количество автобусов
- Вместимость каждого автобуса
- Интервал движения
- Скорость движения

Начальные параметры должны быть получены из файла properties.
В графическом режиме должна быть возможность задавать начальные параметры (кроме режима работы приложения) и должна быть кнопка "Старт", собственно запускающая всю эту движуху.

Логирование Log4j.
Собирать все maven.

Каждый поток (пассажир и автобус) должен логировать все свои действия.